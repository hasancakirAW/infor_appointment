{"utilities":{},"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"SrchAppt":{"sourceUuid":"d786cd5a-f91e-4134-8890-ba7a3277d025","name":"SrchAppt","program":"EXT130MI","description":"Search for appointments in EXTSFA","active":true,"multi":true,"modified":1675092705225,"modifiedBy":"MF-DEV-CA","outputFields":[{"name":"CUNO","description":"Salesforce Customer","length":50,"mandatory":false,"type":"A"},{"name":"PRNO","description":"Vehicle","length":50,"mandatory":false,"type":"A"},{"name":"BANO","description":"Plate Number","length":50,"mandatory":false,"type":"A"},{"name":"SUFI","description":"Service Type","length":50,"mandatory":false,"type":"A"},{"name":"RRSD","description":"Appointment Date Entry","length":50,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Appointment ID","length":50,"mandatory":false,"type":"A"},{"name":"YREF","description":"Driver Attend","length":50,"mandatory":false,"type":"A"},{"name":"FACI","description":"Workshop Facility","length":50,"mandatory":false,"type":"A"},{"name":"MVA1","description":"Kilometers","length":50,"mandatory":false,"type":"A"},{"name":"CFI1","description":"Phone Number","length":50,"mandatory":false,"type":"A"},{"name":"STAT","description":"Appointment Status","length":50,"mandatory":false,"type":"A"},{"name":"SCAT","description":"Service Category","length":50,"mandatory":false,"type":"A"},{"name":"REGI","description":"Region","length":50,"mandatory":false,"type":"A"},{"name":"SPRI","description":"Package Service Price","length":50,"mandatory":false,"type":"A"},{"name":"DOID","description":"Document ID","length":50,"mandatory":false,"type":"A"},{"name":"APNO","description":"Appointment Number","length":50,"mandatory":false,"type":"A"},{"name":"APTY","description":"Appointment Type","length":50,"mandatory":false,"type":"A"},{"name":"TIME","description":"Appointment Time Formatted","length":50,"mandatory":false,"type":"A"},{"name":"DATE","description":"Appointment Date Formatted","length":50,"mandatory":false,"type":"A"},{"name":"STMP","description":"Timestamp","length":50,"mandatory":false,"type":"A"},{"name":"ORNO","description":"MCO Number","length":50,"mandatory":false,"type":"A"},{"name":"CUST","description":"M3 Customer","length":50,"mandatory":false,"type":"A"},{"name":"RRST","description":"Appointment Time Entry","length":50,"mandatory":false,"type":"A"},{"name":"ADDR","description":"Address","length":100,"mandatory":false,"type":"A"},{"name":"AAGN","description":"Agreement","length":50,"mandatory":false,"type":"A"},{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CFI1","description":"Phone Number","length":50,"mandatory":false,"type":"A"},{"name":"BANO","description":"License Plate","length":50,"mandatory":false,"type":"A"},{"name":"APNO","description":"Appointment Number","length":50,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Salesforce Customer","length":50,"mandatory":false,"type":"A"},{"name":"PRNO","description":"Vehicle Info","length":50,"mandatory":false,"type":"A"},{"name":"SUFI","description":"Service Type","length":50,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Appointment ID","length":50,"mandatory":false,"type":"A"},{"name":"YREF","description":"Driver Attend","length":50,"mandatory":false,"type":"A"},{"name":"FACI","description":"Workshop Facility","length":50,"mandatory":false,"type":"A"},{"name":"MVA1","description":"Kilometers","length":50,"mandatory":false,"type":"A"},{"name":"STAT","description":"Appointment Status","length":50,"mandatory":false,"type":"A"},{"name":"SCAT","description":"Service Category","length":50,"mandatory":false,"type":"A"},{"name":"REGI","description":"Region","length":50,"mandatory":false,"type":"A"},{"name":"SPRI","description":"Package Service Price","length":50,"mandatory":false,"type":"A"},{"name":"APTY","description":"Appointment Type","length":50,"mandatory":false,"type":"A"},{"name":"ORNO","description":"MCO Number","length":50,"mandatory":false,"type":"A"},{"name":"CUST","description":"M3 Customer","length":50,"mandatory":false,"type":"A"},{"name":"ADDR","description":"Address","length":100,"mandatory":false,"type":"A"},{"name":"AAGN","description":"Agreement","length":50,"mandatory":false,"type":"A"},{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"d786cd5a-f91e-4134-8890-ba7a3277d025":{"uuid":"d786cd5a-f91e-4134-8890-ba7a3277d025","updated":1675112070090,"updatedBy":"MF-DEV-CA","created":1665434035488,"createdBy":"MF-DEV-CA","apiVersion":"0.21","beVersion":"16.0.0.20221110165802","codeHash":"36270960A7841D487279D521D8A393DB3AB2DBB2F3A06722BE417856CA5F61E8","code":"LyoqDQogKiBSRUFETUUNCiAqIE5hbWU6IEVYVDEzME1JLlNyY2hBcHB0DQogKiBEeW5hbWljIFRhYmxlIEVYVFNGQSBHZXQNCiAqIERlc2NyaXB0aW9uOiBHZXQgRVhUU0ZBIERhdGEgb24gU2VhcmNoIENyaXRlcmlhDQogKiBEYXRlCSAgICBDaGFuZ2VkIEJ5ICAJICBEZXNjcmlwdGlvbg0KICogMjAyMzAxMzAgQ29sdG9uIEFuZHJhZGUgIEdldCBFWFRTRkEgRGF0YSBvbiBTZWFyY2ggQ3JpdGVyaWENCiAqLw0KDQppbXBvcnQgamF2YS50aW1lLlpvbmVkRGF0ZVRpbWUNCmltcG9ydCBqYXZhLnRpbWUuWm9uZUlkDQppbXBvcnQgamF2YS50aW1lLkluc3RhbnQNCg0KcHVibGljIGNsYXNzIFNyY2hBcHB0IGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7DQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOw0KDQogIHB1YmxpYyBTcmNoQXBwdChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgfQ0KDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgDQogICAgU3RyaW5nIGlDVU5PID0gbWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVTk8iKS50cmltKCk7DQogICAgU3RyaW5nIGlQUk5PID0gbWkuaW5EYXRhLmdldCgiUFJOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBSTk8iKS50cmltKCk7DQogICAgU3RyaW5nIGlCQU5PID0gbWkuaW5EYXRhLmdldCgiQkFOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJBTk8iKS50cmltKCk7DQogICAgU3RyaW5nIGlTVUZJID0gbWkuaW5EYXRhLmdldCgiU1VGSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNVRkkiKS50cmltKCk7DQogICAgU3RyaW5nIGlDVU9SID0gbWkuaW5EYXRhLmdldCgiQ1VPUiIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVT1IiKS50cmltKCk7DQogICAgU3RyaW5nIGlZUkVGID0gbWkuaW5EYXRhLmdldCgiWVJFRiIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIllSRUYiKS50cmltKCk7DQogICAgU3RyaW5nIGlGQUNJID0gbWkuaW5EYXRhLmdldCgiRkFDSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkZBQ0kiKS50cmltKCk7DQogICAgU3RyaW5nIGlNVkExID0gbWkuaW5EYXRhLmdldCgiTVZBMSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1WQTEiKS50cmltKCk7DQogICAgU3RyaW5nIGlDRkkxID0gbWkuaW5EYXRhLmdldCgiQ0ZJMSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNGSTEiKS50cmltKCk7DQogICAgU3RyaW5nIGlTVEFUID0gbWkuaW5EYXRhLmdldCgiU1RBVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQVQiKS50cmltKCk7DQogICAgU3RyaW5nIGlTQ0FUID0gbWkuaW5EYXRhLmdldCgiU0NBVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNDQVQiKS50cmltKCk7DQogICAgU3RyaW5nIGlSRUdJID0gbWkuaW5EYXRhLmdldCgiUkVHSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJFR0kiKS50cmltKCk7DQogICAgU3RyaW5nIGlTUFJJID0gbWkuaW5EYXRhLmdldCgiU1BSSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNQUkkiKS50cmltKCk7DQogICAgU3RyaW5nIGlBUE5PID0gbWkuaW5EYXRhLmdldCgiQVBOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFQTk8iKS50cmltKCk7DQogICAgU3RyaW5nIGlBUFRZID0gbWkuaW5EYXRhLmdldCgiQVBUWSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFQVFkiKS50cmltKCk7DQogICAgU3RyaW5nIGlPUk5PID0gbWkuaW5EYXRhLmdldCgiT1JOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCk7DQogICAgU3RyaW5nIGlDVVNUID0gbWkuaW5EYXRhLmdldCgiQ1VTVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVU1QiKS50cmltKCk7DQogICAgU3RyaW5nIGlBRERSID0gbWkuaW5EYXRhLmdldCgiQUREUiIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFERFIiKS50cmltKCk7DQogICAgU3RyaW5nIGlBQUdOID0gbWkuaW5EYXRhLmdldCgiQUFHTiIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFBR04iKS50cmltKCk7DQogICAgU3RyaW5nIGlDT05PID0gbWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCk7DQogICAgU3RyaW5nIGlESVZJID0gbWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCk7DQoNCg0KICAgIFN0cmluZyBjdXJyZW50Q29tcGFueSA9IHByb2dyYW0uZ2V0TERBWkQoKS5DT05POw0KICAgIFN0cmluZyBjdXJyZW50RGl2aXNpb24gPSBwcm9ncmFtLmdldExEQVpEKCkuRElWSTsNCg0KICAgIC8vIFRvIHNlZSBhbGwgdGhlIGFwcG9pbnRtZW50cyBDT05PIG11c3QgYmUgQUxMDQogICAgLy8gaWYgaUNPTk8gaXMgZW1wdHkgb3IgbnVsbCwgd2UgdXNlIE1OUzE1MCwgb3RoZXJ3aXNlIHdlIHVzZSB0aGUgaW5wdXQgZGF0YQ0KICAgIGlmIChpQ09OTy5lcXVhbHMoIkFMTCIpKXsNCiAgICAgIGlDT05PID0gIiI7DQogICAgfQ0KICAgIGVsc2UgaWYgKGlDT05PID09IG51bGwgfHwgaUNPTk8uZXF1YWxzKCIiKSl7DQogICAgICBpQ09OTyA9IGN1cnJlbnRDb21wYW55LnRyaW0oKTsNCiAgICB9DQogICAgDQogICAgaWYgKGlESVZJLmVxdWFscygiQUxMIikpew0KICAgICAgaURJVkkgPSAiIjsNCiAgICB9DQogICAgZWxzZSBpZiAoaURJVkkgPT0gbnVsbCB8fCBpRElWSS5lcXVhbHMoIiIpKXsNCiAgICAgIGlESVZJID0gY3VycmVudERpdmlzaW9uLnRyaW0oKTsNCiAgICB9DQoNCiAgICBTdHJpbmcgdXNlciA9IHByb2dyYW0uZ2V0VXNlcigpOw0KICAgIFN0cmluZyB1c2VyWm9uZSA9ICIiOw0KICAgIFN0cmluZyB1c2VyRGF0ZUZvcm1hdCA9ICIiOw0KICAgIFN0cmluZyB1c2VyWm9uZUdNVCA9ICIiOw0KICAgIGludCB5ZWFyVXNlZCA9IDA7DQogICAgaW50IHVzZXJVVEM7DQogICAgU3RyaW5nIHVzZXJVVENTdHJpbmcgPSAiIjsNCiAgICANCiAgICBDbG9zdXJlPD8+IGdldFRJWk8gPSB7IERCQ29udGFpbmVyIHVzZXJDb250YWluZXIgLT4NCiAgICAgIHVzZXJab25lID0gdXNlckNvbnRhaW5lci5nZXRTdHJpbmcoIkpVVElaTyIpOw0KICAgICAgdXNlckRhdGVGb3JtYXQgPSB1c2VyQ29udGFpbmVyLmdldFN0cmluZygiSlVEVEZNIik7DQogICAgfQ0KICAgIA0KICAgIERCQWN0aW9uIHVzZXJRdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJDTU5VU1IiKS5pbmRleCgiMTAiKS5zZWxlY3Rpb24oIkpVVVNJRCIsICJKVVRJWk8iLCAiSlVEVEZNIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciB1c2VyQ29udGFpbmVyID0gdXNlclF1ZXJ5LmdldENvbnRhaW5lcigpOw0KICAgIHVzZXJDb250YWluZXIuc2V0KCJKVVVTSUQiLCB1c2VyKTsNCiAgICANCiAgICB1c2VyUXVlcnkucmVhZEFsbCh1c2VyQ29udGFpbmVyLCAxLCBnZXRUSVpPKTsNCiAgICANCiAgICBpZiAodXNlclpvbmUgPT0gIiIpIHsNCiAgICAgIHVzZXJab25lID0gIkFTVCI7DQogICAgfQ0KICAgIA0KICAgIGlmICh1c2VyWm9uZSAhPSAiVVRDIikgew0KICAgICAgQ2xvc3VyZTw/PiBnZXRVVEMgPSB7IERCQ29udGFpbmVyIHR6Q29udGFpbmVyIC0+DQogICAgICAgIGlmICh0ekNvbnRhaW5lci5nZXRJbnQoIlRaWUVBNCIpID4geWVhclVzZWQpIHsNCiAgICAgICAgICB5ZWFyVXNlZCA9IHR6Q29udGFpbmVyLmdldEludCgiVFpZRUE0Iik7DQogICAgICAgICAgdXNlclVUQyA9IHR6Q29udGFpbmVyLmdldEludCgiVFpUR01UIik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIA0KICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIkNJVFpPTiIpOw0KICAgICAgZXhwID0gZXhwLmVxKCJUWlRJWk8iLCB1c2VyWm9uZSk7DQogICAgICANCiAgICAgIERCQWN0aW9uIHR6UXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ0lUWk9OIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwKS5zZWxlY3RBbGxGaWVsZHMoKS5idWlsZCgpOw0KICAgICAgREJDb250YWluZXIgdHpDb250YWluZXIgPSB0elF1ZXJ5LmdldENvbnRhaW5lcigpOw0KICAgICAgDQogICAgICB0elF1ZXJ5LnJlYWRBbGwodHpDb250YWluZXIsIDAsIGdldFVUQyk7DQogICAgICANCiAgICAgIHVzZXJVVENTdHJpbmcgPSB1c2VyVVRDLnRvU3RyaW5nKCk7DQogICAgICB1c2VyVVRDU3RyaW5nID0gdXNlclVUQ1N0cmluZy5zdWJzdHJpbmcoMCwgdXNlclVUQ1N0cmluZy5sZW5ndGgoKSAtIDIpOw0KICAgICAgaWYgKHVzZXJVVENTdHJpbmcuY29udGFpbnMoIi0iKSkgew0KICAgICAgICB1c2VyVVRDU3RyaW5nID0gdXNlclVUQ1N0cmluZy5yZXBsYWNlKCItIiwiIik7DQogICAgICAgIHVzZXJab25lR01UID0gIkV0Yy9HTVQrJHt1c2VyVVRDU3RyaW5nfSI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB1c2VyWm9uZUdNVCA9ICJFdGMvR01ULSR7dXNlclVUQ1N0cmluZ30iOw0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICB1c2VyWm9uZUdNVCA9ICJVVEMiOw0KICAgIH0NCiAgICANCiAgICANCiAgICBDbG9zdXJlPD8+IHJlbGVhc2VkSXRlbVByb2Nlc3NvciA9IHsgREJDb250YWluZXIgY29udGFpbmVyIC0+DQogICAgICBpZiAoaUNVTk8gIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWENVTk8iKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lDVU5PLnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpUFJOTyAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYUFJOTyIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aVBSTk8udG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlCQU5PICE9ICIiKSB7DQogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhCQU5PIikudG9Mb3dlckNhc2UoKS5jb250YWlucygiJHtpQkFOTy50b0xvd2VyQ2FzZSgpfSIpKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoaVNVRkkgIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWFNVRkkiKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lTVUZJLnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpQ1VPUiAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ1VPUiIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aUNVT1IudG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlZUkVGICE9ICIiKSB7DQogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhZUkVGIikudG9Mb3dlckNhc2UoKS5jb250YWlucygiJHtpWVJFRi50b0xvd2VyQ2FzZSgpfSIpKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoaUZBQ0kgIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWEZBQ0kiKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lGQUNJLnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpTVZBMSAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYTVZBMSIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aU1WQTEudG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlDRkkxICE9ICIiKSB7DQogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhDRkkxIikudG9Mb3dlckNhc2UoKS5jb250YWlucygiJHtpQ0ZJMS50b0xvd2VyQ2FzZSgpfSIpKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoaVNUQVQgIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWFNUQVQiKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lTVEFULnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpU0NBVCAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU0NBVCIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aVNDQVQudG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlSRUdJICE9ICIiKSB7DQogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhSRUdJIikudG9Mb3dlckNhc2UoKS5jb250YWlucygiJHtpUkVHSS50b0xvd2VyQ2FzZSgpfSIpKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoaVNQUkkgIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWFNQUkkiKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lTUFJJLnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpQVBOTyAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQVBOTyIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aUFQTk8udG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlBUFRZICE9ICIiKSB7DQogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhBUFRZIikudG9Mb3dlckNhc2UoKS5jb250YWlucygiJHtpQVBUWS50b0xvd2VyQ2FzZSgpfSIpKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoaU9STk8gIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWE9STk8iKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lPUk5PLnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpT1JOTyAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYT1JOTyIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aU9STk8udG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGlDVVNUICE9ICIiKSB7DQogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhDVVNUIikudG9Mb3dlckNhc2UoKS5jb250YWlucygiJHtpQ1VTVC50b0xvd2VyQ2FzZSgpfSIpKSB7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoaUFERFIgIT0gIiIpIHsNCiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWEFERFIiKS50b0xvd2VyQ2FzZSgpLmNvbnRhaW5zKCIke2lBRERSLnRvTG93ZXJDYXNlKCl9IikpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmIChpQUFHTiAhPSAiIikgew0KICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQUFHTiIpLnRvTG93ZXJDYXNlKCkuY29udGFpbnMoIiR7aUFBR04udG9Mb3dlckNhc2UoKX0iKSkgew0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgDQogICAgICBTdHJpbmcgREFURSA9ICIiOw0KICAgICAgU3RyaW5nIFJSU0QgPSAiIjsNCiAgICAgIFN0cmluZyBUSU1FID0gIiI7DQogICAgICBTdHJpbmcgUlJTVCA9ICIiOw0KICAgICAgU3RyaW5nIERBVEVBU1QgPSAiIjsNCiAgICAgIFN0cmluZyBUSU1FQVNUID0gIiI7DQogICAgICBTdHJpbmcgaURBVEUgPSBjb250YWluZXIuZ2V0U3RyaW5nKCJFWERBVEUiKTsNCiAgICAgIGlmIChpREFURS5sZW5ndGgoKSA9PSAyNCAmJiBpREFURVstMV0gPT0gIloiICYmIGlEQVRFWzEwXSA9PSAiVCIpIHsNCiAgICAgICAgLy8gVW5jb21tZW50IHRvIHNldCB0aW1lem9uZSBtYW51YWxseSBub3cNCiAgICAgICAgLy8gU3RyaW5nIHVzZXJab25lR01UID0gIkFtZXJpY2EvQ2hpY2FnbyINCiAgICAgICAgLy8gc2FtcGxlIHRpbWVzdGFtcCA9IDIwMjItMTItMDJUMDk6Mjc6MjkuMTU5Wg0KICAgICAgICANCiAgICAgICAgSW5zdGFudCB0aW1lc3RhbXAgPSBJbnN0YW50LnBhcnNlKGlEQVRFKTsNCiAgICAgICAgWm9uZWREYXRlVGltZSBub3dEYXRlID0gdGltZXN0YW1wLmF0Wm9uZShab25lSWQub2YodXNlclpvbmVHTVQpKTsNCiAgICAgICAgU3RyaW5nIG5vd0RhdGVTdHJpbmcgPSBub3dEYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsMTYpOw0KICAgICAgICANCiAgICAgICAgU3RyaW5nIFtdIHN0YW1wX3NwbGl0ID0gbm93RGF0ZVN0cmluZy5zcGxpdCgiVCIpOw0KICAgICAgICANCiAgICAgICAgREFURSA9IHN0YW1wX3NwbGl0WzBdOw0KICAgICAgICBUSU1FID0gIiR7c3RhbXBfc3BsaXRbMV0uc3Vic3RyaW5nKDAsIDUpfSAke3VzZXJab25lfSI7DQogICAgICAgIA0KICAgICAgICBab25lZERhdGVUaW1lIG5vd0RhdGVBU1QgPSB0aW1lc3RhbXAuYXRab25lKFpvbmVJZC5vZigiRXRjL0dNVC0zIikpOw0KICAgICAgICBTdHJpbmcgbm93RGF0ZVN0cmluZ0FTVCA9IG5vd0RhdGVBU1QudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwxNik7DQogICAgICAgIFN0cmluZyBbXSBzdGFtcF9zcGxpdEFTVCA9IG5vd0RhdGVTdHJpbmdBU1Quc3BsaXQoIlQiKTsNCiAgICAgICAgDQogICAgICAgIERBVEVBU1QgPSBzdGFtcF9zcGxpdEFTVFswXTsNCiAgICAgICAgVElNRUFTVCA9ICIke3N0YW1wX3NwbGl0QVNUWzFdLnN1YnN0cmluZygwLCA1KX0iOw0KICAgICAgICBSUlNUID0gVElNRUFTVC5yZXBsYWNlKCI6IiwgIiIpOw0KICAgICAgICANCiAgICAgICAgU3RyaW5nIFtdIGRhdGVfc3BsaXRBU1QgPSBEQVRFQVNULnNwbGl0KCItIik7DQogICAgICAgIFN0cmluZyB5ZWFyQVNUID0gZGF0ZV9zcGxpdEFTVFswXS5zdWJzdHJpbmcoMik7DQogICAgICAgIFN0cmluZyBtb250aEFTVCA9IGRhdGVfc3BsaXRBU1RbMV07DQogICAgICAgIFN0cmluZyBkYXlBU1QgPSBkYXRlX3NwbGl0QVNUWzJdOw0KICAgICAgICBpZiAodXNlckRhdGVGb3JtYXQgPT0gIkRNWSIpIHsNCiAgICAgICAgICBSUlNEID0gIiR7ZGF5QVNUfSR7bW9udGhBU1R9JHt5ZWFyQVNUfSI7DQogICAgICAgIH0gZWxzZSBpZiAodXNlckRhdGVGb3JtYXQgPT0gIllNRCIpIHsNCiAgICAgICAgICBSUlNEID0gIiR7eWVhckFTVH0ke21vbnRoQVNUfSR7ZGF5QVNUfSI7DQogICAgICAgIH0gZWxzZSBpZiAodXNlckRhdGVGb3JtYXQgPT0gIk1EWSIpIHsNCiAgICAgICAgICBSUlNEID0gIiR7bW9udGhBU1R9JHtkYXlBU1R9JHt5ZWFyQVNUfSI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgUlJTRCA9ICIiOw0KICAgICAgICAgIFJSU1QgPSAiIjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgDQogICAgICBtaS5vdXREYXRhLnB1dCgiQ1VOTyIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ1VOTyIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJQUk5PIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhQUk5PIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkJBTk8iLCBjb250YWluZXIuZ2V0U3RyaW5nKCJFWEJBTk8iKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiU1VGSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1VGSSIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJDVU9SIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhDVU9SIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIllSRUYiLCBjb250YWluZXIuZ2V0U3RyaW5nKCJFWFlSRUYiKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiRkFDSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYRkFDSSIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJNVkExIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhNVkExIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNGSTEiLCBjb250YWluZXIuZ2V0U3RyaW5nKCJFWENGSTEiKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiU1RBVCIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1RBVCIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJTQ0FUIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhTQ0FUIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlJFR0kiLCBjb250YWluZXIuZ2V0U3RyaW5nKCJFWFJFR0kiKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiU1BSSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1BSSSIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJET0lEIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhET0lEIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkFQTk8iLCBjb250YWluZXIuZ2V0U3RyaW5nKCJFWEFQTk8iKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiQVBUWSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQVBUWSIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJEQVRFIiwgREFURSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiUlJTRCIsIFJSU0QpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIlRJTUUiLCBUSU1FKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJSUlNUIiwgUlJTVCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiU1RNUCIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1RNUCIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUk5PIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhPUk5PIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNVU1QiLCBjb250YWluZXIuZ2V0U3RyaW5nKCJFWENVU1QiKSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgiQUREUiIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQUREUiIpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJBQUdOIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhBQUdOIikpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoIkNPTk8iLCBjb250YWluZXIuZ2V0SW50KCJFWENPTk8iKS50b1N0cmluZygpKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCJESVZJIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhESVZJIikpOw0KICAgICAgbWkud3JpdGUoKTsNCiAgICB9DQogICAgDQogICAgaWYgKGlDT05PID09ICIiICYmIGlESVZJICE9ICIiKSB7DQogICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFQxMzAiKS5pbmRleCgiMzAiKS5zZWxlY3RBbGxGaWVsZHMoKS5idWlsZCgpOw0KICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCk7DQogICAgICANCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYRElWSSIsIGlESVZJKTsNCiAgICANCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAxLCAxMDAsIHJlbGVhc2VkSXRlbVByb2Nlc3Nvcik7DQogICAgfSBlbHNlIHsNCiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVDEzMCIpLmluZGV4KCIxMCIpLnNlbGVjdEFsbEZpZWxkcygpLmJ1aWxkKCk7DQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICANCiAgICAgIGludCBpbmRleHNVc2VkID0gMDsNCiAgICAgIGlmIChpQ09OTyAhPSAiIikgew0KICAgICAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTy50b0ludGVnZXIoKSk7DQogICAgICAgIGluZGV4c1VzZWQgKz0gMTsNCiAgICAgIH0NCiAgICAgIGlmIChpRElWSSAhPSAiIikgew0KICAgICAgICBjb250YWluZXIuc2V0KCJFWERJVkkiLCBpRElWSSk7DQogICAgICAgIGluZGV4c1VzZWQgKz0gMTsNCiAgICAgIH0NCiAgICANCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCBpbmRleHNVc2VkLCAxMDAsIHJlbGVhc2VkSXRlbVByb2Nlc3Nvcik7DQogICAgfQ0KICB9DQp9"}}}